package com.hb.http;import android.util.Log;import java.io.BufferedReader;import java.io.InputStreamReader;import java.net.HttpURLConnection;import java.net.URL;import static android.content.ContentValues.TAG;public class HttpRequestService {    public static final short READ_TIME_OUT = 15 * 1000;//读取超时时间    public static final short CONNECT_TIME_OUT = 15 * 1000;//链接超时时间    public static final String REQUEST_METHOD = "GET";//请求方式    public static final String CHARACTER_TYPE = "UTF-8";//字体    public static final String FIELD = "Content-Type";//Field    public static final String FIELD_VALUE = "application/json;charset=UTF-8";//Field Value    /**     * HTTP 请求     *     * @return     */    public static String httpPost(String url) {        StringBuffer sb = null;        HttpURLConnection conn = null;        String readStrLine;//读取返回每一行字符串        try {            URL urlObj = new URL(url);            conn = (HttpURLConnection) urlObj.openConnection();//            conn.setReadTimeout(READ_TIME_OUT);// 设置从主机读取数据超时（单位：毫秒）            conn.setConnectTimeout(CONNECT_TIME_OUT);// 设置连接主机超时（单位：毫秒）            //conn.setDoOutput(true);// 允许使用conn.getOutputStream().write()            conn.setDoInput(true);// 允许使用conn.getInputStream().read();            conn.setRequestMethod(REQUEST_METHOD);            // 设置客户端与服务连接类型            conn.addRequestProperty("Connection", "Keep-Alive");            conn.setUseCaches(true);// Post 请求不能使用缓存            // conn.setInstanceFollowRedirects(true);            //setRequestProperty主要是设置HttpURLConnection请求头里面的属性            //比如Cookie、User-Agent（浏览器类型）等等，具体可以看HTTP头相关的材料 至于要设置什么这个要看服务器端的约定            conn.setRequestProperty(FIELD, FIELD_VALUE);            conn.connect();//开始连接            if (conn.getResponseCode() == 200) {                // 获取返回的数据                BufferedReader reader = new BufferedReader(new InputStreamReader(conn.getInputStream(), CHARACTER_TYPE));                sb = new StringBuffer();                while ((readStrLine = reader.readLine()) != null) {                    sb.append(readStrLine);                }                reader.close();            } else {                Log.e(TAG, "Get方式请求失败");            }            // System.out.println("返回DATA" + buffer.toString());        } catch (Exception e) {            e.printStackTrace();        } finally {            // 关闭连接            conn.disconnect();            return (sb != null) ? sb.toString() : null;        }    }}